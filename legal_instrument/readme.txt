下面说明包中文件和文件夹内容:

##########################################
#####   accusation_predict 文件夹      ####
##########################################
——————————————————————————————————————————————————————————————————————————
dump_data文件夹：用于保存生成的词向量和词典, 模型的输入向量等
——————————————————————————————————————————————————————————————————————————

——————————————————————————————————————————————————————————————————————————
nn_logs文件夹 & xkf_nn_logs 文件夹：用于保存 tensorflow 训练的可视化文件结果
——————————————————————————————————————————————————————————————————————————

——————————————————————————————————————————————————————————————————————————
nn_model文件夹 & xkf_nn_model 文件夹：用于保存 tensorflow 生成的模型。
注意：如果要训练新的模型，请务必删除旧模型的存储点，该存储点的作用是迭代，意思就是这次训练到10000次，下次接着这次训练
——————————————————————————————————————————————————————————————————————————

——————————————————————————————————————————————————————————————————————————
xgboost_model文件夹：用于保存 xgboost 生成的模型。
——————————————————————————————————————————————————————————————————————————

——————————————————————————————————————————————————————————————————————————
nn_baseline文件 : 一个以神经网络作为基线的模型，10000迭代后准确度为0.58  验证集准确度为0.56 目前为欠拟合状态
强烈建议不要修改此文件，新建一个model文件进行修改，因为此文件为基线模型
可以按照文件中的顺序编写自己的模型，即：
读取数据 -> 建立模型 -> 训练 -> 评价
其中涉及到模型的保存和可视化，可以直接挪用到更好的模型中
——————————————————————————————————————————————————————————————————————————

——————————————————————————————————————————————————————————————————————————
xkf_nn_model文件：薛恺丰的基本神经网络模型
——————————————————————————————————————————————————————————————————————————

——————————————————————————————————————————————————————————————————————————
transform_data_to_feature_and_dump文件：用于将原始数据文件转化为向量，其中包含两个函数：

1.dump_data_for_xgboost: 为xgboost模型生成输入集和验证集，并将其保存在 dump_data/xgboost 以加速下一次数据读取

2.dump_data_for_nn: 为 nn 模型生成输入集和验证集，并将其保存在 dump_data/nn 以加速下一次数据读取
——————————————————————————————————————————————————————————————————————————

##########################################
#####     article_predict 文件夹       ####
##########################################
与上文类似，用来预测法条的模型及数据

##########################################
#####   imprisonment_predict 文件夹    ####
##########################################
与上文类似，用来预测刑期的模型及数据


##########################################
#####         data_util 文件夹         ####
##########################################
——————————————————————————————————————————————————————————————————————————
generate_batch文件：用于将文本数据转化为向量作为模型的输入，下面说明其主要函数作用：

##不重要
1.read_accu : 生成罪名与罪名index的map和reverse_map，返回值为：
accu_dict : 罪名 -> index  eg. 故意杀人 ->17
reverse_accu_dict : index -> 罪名  eg. 17 -> 故意杀人

##不重要
2.read_article : 生成法条与法条index的map和reverse_map，返回值为：
article _dict : 法条 -> index
reverse_article _dict : index -> 法条

##不重要
3.get_dictionary_and_embedding : 加载词典和词向量，返回值为：
word_dictionary : 词典  单词 -> index
embedding : 词向量   index -> vector
reverse_word_dictionary : 反向词典  index -> 单词

##比较重要
4.read_data_in_accu_format : 加载用于罪名预测的数据集
参数：
file_name : 数据文件名, 如DATA_TRAIN, DATA_VALID
embedding : 词向量
dictionary : 词典
accu_dict : 罪名词典
返回值：
data_x : 数据集的特征向量
data_y : 数据集的标签，one_hot形式

##比较重要
5.read_data_in_article_format : 加载用于法条预测的数据集
参数：
file_name : 数据文件名, 如DATA_TRAIN, DATA_VALID
embedding : 词向量
dictionary : 词典
article_dict : 法条词典
返回值：
data_x : 数据集的特征向量
data_y : 数据集的标签，one_hot形式

##比较重要
6.read_data_in_imprisonment_format : 加载用于法条预测的数据集
参数：
file_name : 数据文件名, 如DATA_TRAIN, DATA_VALID
embedding : 词向量
dictionary : 词典
返回值：
data_x : 数据集的特征向量
data_y : 数据集的回归结果，表示刑期长短

##重要
7.generate_batch ： 依据输入的数据随机选取batch_size个数据生成一个batch
参数:
batch_size : 每次生成的数据数量
data_x : 数据集的特征向量
data_y : 数据集的标签
label_size : 预测标签分类数量
返回值:
x : 特征向量 shape = [batch_size, 词向量长度]
y : 标签 shape = [batch_size, 预测标签分类数量]

##
8.change_label_to_one_hot：将label转换为one-hot的形式
参数：
label : 数据列，one-hot编码之后非零的列
max : 总类数
返回值：
result：one-hot形式的lebal

##
9.change_fact_to_vector：将事实文字转换成向量
参数：
fact：事实文字
embedding：词向量
dictionary：词与词向量对应的词典
返回值：
result：事实文字转换成的向量


——————————————————————————————————————————————————————————————————————————

##########################################
#####         dump_data 文件夹          ###
##########################################

——————————————————————————————————————————————————————————————————————————

该文件夹的主要用途是保存词向量，停用词等

——————————————————————————————————————————————————————————————————————————

##########################################
#####          judge 文件夹            ####
##########################################

——————————————————————————————————————————————————————————————————————————

该文件夹的主要用途是模拟实际模型考核的结果
官方考核方式说明：https://github.com/thunlp/CAIL2018
官方judge源码：https://github.com/thunlp/CAIL2018/tree/master/judger

——————————————————————————————————————————————————————————————————————————

##########################################
#####         predictor 文件夹         ####
##########################################

——————————————————————————————————————————————————————————————————————————

该文件夹的内容是按照官方提交格式的代码，仅有预测功能，不作为训练
官方提交格式说明：https://github.com/thunlp/CAIL2018

——————————————————————————————————————————————————————————————————————————

##########################################
#####         word2vec 文件夹          ####
##########################################

——————————————————————————————————————————————————————————————————————————

word2vec文件 : 用于训练词向量的模型，可以不看

——————————————————————————————————————————————————————————————————————————


重要说明：
请在根目录下建一个名为system_path.py的文件，内容为
DATA_TRAIN = '/Users/SilverNarcissus/Documents/法院文书/good/data_train.json'
DATA_VALID = '/Users/SilverNarcissus/Documents/法院文书/good/data_valid.json'
DATA_TEST = '/Users/SilverNarcissus/Documents/法院文书/good/data_test.json'
FONT_FILE = '/System/Library/Fonts/PingFang.ttc'
ACCU_FILE = '/Users/SilverNarcissus/Documents/法院文书/good/accu.txt'
LAW_FILE = '/Users/SilverNarcissus/Documents/法院文书/good/law.txt'
将后面的路径换成自己的文件路径，其中FONT_FILE应该不用修改
